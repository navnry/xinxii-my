(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/news/index"],{"041c":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=u(n("6eeb")),i=n("2f62");function u(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={mixins:[o.default],data:function(){return{tabList:[],tabCurrent:0,newsList:[],focusData:[],status:"loadmore",params:{pageNo:1,pageSize:10,channelid:null},enable:!0,randomIndex:1}},onShow:function(){this.enable=!0,this.getRandomIndex()},onHide:function(){this.enable=!1},onLoad:function(){this.getFocusData(),this.getTabList(),this.getNewsList()},computed:s({},(0,i.mapState)(["message"])),methods:{scroll:function(t){console.log(t)},toSearch:function(){this.$u.route({url:"pages/base/search",params:{type:"article"}})},getRandomIndex:function(){this.randomIndex=this.$u.random(1,3)},getFocusData:function(){var t=this;this.$api.focusData().then((function(e){e.success&&(console.log(e.data),t.focusData=e.data.articleList)}))},toFocusList:function(){t.navigateTo({url:"./focus"})},getTabList:function(){var t=this;this.$api.newsTab().then((function(e){console.log(e),t.tabList=e.data,t.tabList.unshift({id:"",name:"推荐"})}))},changeTab:function(t){this.params.channelid=this.tabList[t].id,this.params.pageNo=1,this.tabCurrent=t,this.newsList=[],this.getRandomIndex(),this.getNewsList()},getNewsList:function(){var t=this;this.status="loading",this.$api.newsList(this.params).then((function(e){if(1==t.params.pageNo){if(t.newsList=e.data,!e.page.hasNextPage)return void(t.status="nomore")}else if(t.newsList=t.newsList.concat(e.data),!e.page.hasNextPage)return void(t.status="nomore");t.status="loadmore"}))},onReachBottom:function(){this.params.pageNo+=1,"nomore"!=this.status&&this.getNewsList()},toDetail:function(t){console.log(t),this.$u.route({url:"/pages/news/detail",params:{id:t}})},pullDown:function(t){setTimeout((function(){t.endSuccess()}),3e3)}}};e.default=c}).call(this,n("543d")["default"])},"14a5":function(t,e,n){"use strict";n.r(e);var o=n("e3f4"),i=n("8be6");for(var u in i)"default"!==u&&function(t){n.d(e,t,(function(){return i[t]}))}(u);n("2e1e");var a,s=n("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"060410ef",null,!1,o["a"],a);e["default"]=r.exports},"2e1e":function(t,e,n){"use strict";var o=n("c662"),i=n.n(o);i.a},"4f6e":function(t,e,n){"use strict";(function(t){n("44a1");o(n("66fd"));var e=o(n("14a5"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"8be6":function(t,e,n){"use strict";n.r(e);var o=n("041c"),i=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=i.a},c662:function(t,e,n){},e3f4:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}));var o={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"33f0"))},uSearch:function(){return n.e("uview-ui/components/u-search/u-search").then(n.bind(null,"c6cd"))},uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"47ce"))},uBadge:function(){return n.e("uview-ui/components/u-badge/u-badge").then(n.bind(null,"3c47"))},bRefresh:function(){return Promise.all([n.e("common/vendor"),n.e("components/b-refresh/b-refresh")]).then(n.bind(null,"2dba"))},bFocusItem:function(){return n.e("components/b-focus-item/b-focus-item").then(n.bind(null,"b381"))},uSticky:function(){return n.e("uview-ui/components/u-sticky/u-sticky").then(n.bind(null,"52fc"))},uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"0abd"))},bArticleItem:function(){return n.e("components/b-article-item/b-article-item").then(n.bind(null,"4690"))},uLoadmore:function(){return n.e("uview-ui/components/u-loadmore/u-loadmore").then(n.bind(null,"319c"))}},i=function(){var t=this,e=t.$createElement;t._self._c},u=[]}},[["4f6e","common/runtime","common/vendor"]]]);