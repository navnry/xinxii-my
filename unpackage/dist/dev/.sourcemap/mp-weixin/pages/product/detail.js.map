{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/product/detail.vue?3e4c","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/product/detail.vue?5a62","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/product/detail.vue?1d66","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/product/detail.vue?7c8e","uni-app:///pages/product/detail.vue","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/product/detail.vue?cf4c","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/product/detail.vue?cecd"],"names":["createPage","Page"],"mappings":"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","file":"pages/product/detail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/product/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=0e9671aa&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=0e9671aa&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0e9671aa\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/product/detail.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=0e9671aa&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uSticky: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-sticky/u-sticky\" */ \"@/uview-ui/components/u-sticky/u-sticky.vue\"\n      )\n    },\n    uTabs: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabs/u-tabs\" */ \"@/uview-ui/components/u-tabs/u-tabs.vue\"\n      )\n    },\n    uCellGroup: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-cell-group/u-cell-group\" */ \"@/uview-ui/components/u-cell-group/u-cell-group.vue\"\n      )\n    },\n    uCellItem: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-cell-item/u-cell-item\" */ \"@/uview-ui/components/u-cell-item/u-cell-item.vue\"\n      )\n    },\n    uParse: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-parse/u-parse\" */ \"@/uview-ui/components/u-parse/u-parse.vue\"\n      )\n    },\n    uDivider: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-divider/u-divider\" */ \"@/uview-ui/components/u-divider/u-divider.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.detail.productInfomationFileOutputList, function(\n    item,\n    index\n  ) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = item.name.split(\".\")\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<scroll-view scroll-y class=\"\" @scroll=\"pageScroll\" style=\"height: 100vh;\" :scroll-top=\"scrollTop\">\r\n\t\t<u-navbar title=\"产品详情\"></u-navbar>\r\n\t\t<view class=\"banner\">\r\n\t\t\t<view class=\"pic\">\r\n\t\t\t\t<u-image :src=\"detail.picture\" width=\"100%\" height=\"346rpx\"></u-image>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"desc u-p-24\">\r\n\t\t\t\t<view class=\"u-font-32\">{{detail.name}}</view>\r\n\t\t\t\t<view class=\"u-font-26 u-content-color\">该产品由{{detail.producerName}}承保</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"\">\r\n\t\t\t<u-sticky :enable=\"enable\">\r\n\t\t\t\t<u-tabs :list=\"tabbar\" :current=\"current\" @change=\"swichMenu\" height=\"88\" :is-scroll=\"false\" />\r\n\t\t\t</u-sticky>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"u-menu-wrap\">\r\n\t\t\t<view class=\"page-view\">\r\n\t\t\t\t<view id=\"item0\" class=\"class-item\">\r\n\t\t\t\t\t<u-cell-group title=\"保障权益\">\r\n\t\t\t\t\t\t<view v-for=\"(item,index) in detail.planList\" :key=\"item.id\" v-show=\"planCurrent == index\">\r\n\t\t\t\t\t\t\t<view class=\"\" v-for=\"(oItem,oIndex) in item.planDetailList\" :key=\"oIndex\">\r\n\t\t\t\t\t\t\t\t<u-cell-item :title=\"oItem.ensureName\" :value=\"oItem.ensureDetail\" :arrow=\"false\" title-width=\"540\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-cell-group>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view id=\"item1\" class=\"class-item\">\r\n\t\t\t\t\t<u-cell-group title=\"投保条件\">\r\n\t\t\t\t\t\t<view class=\"\" v-if=\"detail.productInsureOutput\">\r\n\t\t\t\t\t\t\t<u-cell-item title=\"保障期限\" :value=\"detail.productInsureOutput.ensureTime\" :arrow=\"false\" title-width=\"140\" />\r\n\t\t\t\t\t\t\t<u-cell-item title=\"投保年龄\" :value=\"detail.productInsureOutput.ageStr\" :arrow=\"false\" title-width=\"140\" />\r\n\t\t\t\t\t\t\t<u-cell-item title=\"职业类别\" :value=\"detail.productInsureOutput.jobType\" :arrow=\"false\" title-width=\"140\" />\r\n\t\t\t\t\t\t\t<u-cell-item title=\"缴费方式\" :value=\"detail.productInsureOutput.payType\" :arrow=\"false\" title-width=\"140\" />\r\n\t\t\t\t\t\t\t<u-cell-item title=\"犹豫期\" :value=\"detail.productInsureOutput.hesitPeriod\" :arrow=\"false\" title-width=\"140\" v-if=\"detail.productInsureOutput.hesitPeriod && detail.productInsureOutput.hesitPeriod !==''\" />\r\n\t\t\t\t\t\t\t<u-cell-item title=\"等待期\" :value=\"detail.productInsureOutput.ensureTime\" :arrow=\"false\" title-width=\"140\" v-if=\"detail.productInsureOutput.waitPeriod && detail.productInsureOutput.waitPeriod !==''\" />\r\n\t\t\t\t\t\t\t<u-cell-item title=\"等待期说明\" :value=\"detail.productInsureOutput.ensureTime\" :arrow=\"false\" title-width=\"140\" v-if=\"detail.productInsureOutput.waitDetail && detail.productInsureOutput.waitDetail !==''\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-cell-group>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view id=\"item2\" class=\"class-item\">\r\n\t\t\t\t\t<u-cell-group title=\"产品特色\">\r\n\t\t\t\t\t\t<u-parse class=\"u-p-24\" :html=\"detail.detail\" @ready=\"readyEnd\"></u-parse>\r\n\t\t\t\t\t</u-cell-group>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view id=\"item3\" class=\"class-item\">\r\n\t\t\t\t\t<u-cell-group title=\"产品条款\">\r\n\t\t\t\t\t\t<view v-for=\"(item,index) in detail.productInfomationFileOutputList\" :key=\"index\">\r\n\t\t\t\t\t\t\t<u-cell-item :title=\"item.name.split('.')[0]\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-cell-group>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"u-m-t-32 u-p-24\">\r\n\t\t\t<u-divider fontSize=\"24\" bgColor=\"transparent\">新禧保险经纪保险公司为您提供销售服务</u-divider>\r\n\t\t</view>\r\n\t\t<view class=\"u-p-b-126\">\r\n\r\n\t\t</view>\r\n\t\t<view class=\"\">\r\n\t\t\t<u-button></u-button>\r\n\t\t</view>\r\n\t</scroll-view>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tscrollTop: 0, //tab标题的滚动条位置\r\n\t\t\t\toldScrollTop: 0,\r\n\t\t\t\tcurrent: 0, // 预设当前项的值\r\n\t\t\t\tmenuHeight: 0, // 左边菜单的高度\r\n\t\t\t\tmenuItemHeight: 0, // 左边菜单item的高度\r\n\t\t\t\ttabbar: [{\r\n\t\t\t\t\tname: '保障权益'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '投保条件'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '产品特色'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '产品条款'\r\n\t\t\t\t}],\r\n\t\t\t\tmenuItemPos: [],\r\n\t\t\t\tarr: [],\r\n\t\t\t\tscrollRightTop: 0, // 右边栏目scroll-view的滚动条高度\r\n\t\t\t\ttimer: null, // 定时器\r\n\r\n\r\n\r\n\t\t\t\tdetail: {},\r\n\t\t\t\tplanList: [],\r\n\t\t\t\tplanCurrent: 0,\r\n\t\t\t\tenable: false,\r\n\t\t\t\ttopHeght: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\tthis.enable = false\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.enable = true\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options) {\r\n\t\t\t\tthis.getDetail(options.id)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.getElRect('banner', 'topHeght')\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\treadyEnd() {\r\n\t\t\t\t// this.$showModal({\r\n\t\t\t\t// \ttitle:\"提示\",\r\n\t\t\t\t// \tcontent:\"渲染完成\",\r\n\t\t\t\t// \tshowCancel:false\r\n\t\t\t\t// })\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.getMenuItemTop()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取产品详情\r\n\t\t\tgetDetail(id) {\r\n\t\t\t\tthis.$api.productDetail(id).then(res => {\r\n\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\tthis.detail = res.data\r\n\t\t\t\t\t\tthis.planList = res.data.planList\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 获取一个目标元素的高度\r\n\t\t\tgetElRect(elClass, dataVal) {\r\n\t\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\t\tconst query = uni.createSelectorQuery().in(this)\r\n\t\t\t\t\tquery.select('.' + elClass).fields({\r\n\t\t\t\t\t\tsize: true\r\n\t\t\t\t\t}, res => {\r\n\t\t\t\t\t\t// 如果节点尚未生成，res值为null，循环调用执行\r\n\t\t\t\t\t\tif (!res) {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.getElRect(elClass)\r\n\t\t\t\t\t\t\t}, 10)\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis[dataVal] = res.height\r\n\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 点击跳转锚点\r\n\t\t\tasync swichMenu(index) {\r\n\t\t\t\tif (this.arr.length == 0) {\r\n\t\t\t\t\tawait this.getMenuItemTop()\r\n\t\t\t\t}\r\n\t\t\t\tif (index == this.current) return\r\n\t\t\t\tthis.scrollTop = this.oldScrollTop\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.scrollTop = this.arr[index]\r\n\t\t\t\t\tthis.current = index\r\n\t\t\t\t\tthis.menuStatus(index)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 观测元素相交状态\r\n\t\t\tasync observer() {\r\n\t\t\t\tthis.tabbar.map((val, index) => {\r\n\t\t\t\t\tlet observer = uni.createIntersectionObserver(this)\r\n\t\t\t\t\t// 检测右边scroll-view的id为itemxx的元素与right-box的相交状态\r\n\t\t\t\t\t// 如果跟.right-box底部相交，就动态设置左边栏目的活动状态\r\n\t\t\t\t\tobserver.relativeTo('.right-box', {\r\n\t\t\t\t\t\ttop: 0\r\n\t\t\t\t\t}).observe('#item' + index, res => {\r\n\t\t\t\t\t\tif (res.intersectionRatio > 0) {\r\n\t\t\t\t\t\t\tlet id = res.id.substring(4)\r\n\t\t\t\t\t\t\tthis.menuStatus(id)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 设置tab的滚动状态\r\n\t\t\tasync menuStatus(index) {\r\n\t\t\t\tthis.current = index\r\n\t\t\t\t// 如果为0，意味着尚未初始化\r\n\t\t\t\tif (this.menuHeight == 0 || this.menuItemHeight == 0) {\r\n\t\t\t\t\tawait this.getElRect('menu-scroll-view', 'menuHeight')\r\n\t\t\t\t\tawait this.getElRect('u-tab-item', 'menuItemHeight')\r\n\t\t\t\t}\r\n\t\t\t\t// 将菜单活动item垂直居中\r\n\t\t\t},\r\n\t\t\t// 获取右边菜单每个item到顶部的距离\r\n\t\t\tgetMenuItemTop() {\r\n\t\t\t\tnew Promise(resolve => {\r\n\t\t\t\t\tlet selectorQuery = uni.createSelectorQuery()\r\n\t\t\t\t\tselectorQuery.selectAll('.class-item').boundingClientRect((rects) => {\r\n\t\t\t\t\t\t// 如果节点尚未生成，rects值为[](因为用selectAll，所以返回的是数组)，循环调用执行\r\n\t\t\t\t\t\tif (!rects.length) {\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.getMenuItemTop()\r\n\t\t\t\t\t\t\t}, 10)\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trects.forEach((rect) => {\r\n\t\t\t\t\t\t\t// 这里减去rects[0].top，是因为第一项顶部可能不是贴到导航栏(比如有个搜索框的情况)\r\n\t\t\t\t\t\t\tthis.arr.push(rect.top - 88)\r\n\t\t\t\t\t\t\t// console.log(this.arr)\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}).exec()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 页面滚动\r\n\t\t\tasync pageScroll(e) {\r\n\t\t\t\tthis.oldScrollTop = e.detail.scrollTop\r\n\t\t\t\tif (this.arr.length == 0) {\r\n\t\t\t\t\tawait this.getMenuItemTop()\r\n\t\t\t\t}\r\n\t\t\t\tif (this.timer) return\r\n\t\t\t\tif (!this.menuHeight) {\r\n\t\t\t\t\tawait this.getElRect('menu-scroll-view', 'menuHeight')\r\n\t\t\t\t}\r\n\t\t\t\tsetTimeout(() => { // 节流\r\n\t\t\t\t\tthis.timer = null\r\n\t\t\t\t\t// scrollHeight为右边菜单垂直中点位置\r\n\t\t\t\t\tlet scrollHeight = e.detail.scrollTop + this.menuHeight / 2\r\n\t\t\t\t\tfor (let i = 0; i < this.arr.length; i++) {\r\n\t\t\t\t\t\tlet height1 = this.arr[i]\r\n\t\t\t\t\t\tlet height2 = this.arr[i + 1]\r\n\t\t\t\t\t\tconsole.log(height2)\r\n\t\t\t\t\t\t// 如果不存在height2，意味着数据循环已经到了最后一个，设置左边菜单为最后一项即可\r\n\t\t\t\t\t\tif (scrollHeight >= height1 && scrollHeight < height2) {\r\n\t\t\t\t\t\t\tthis.menuStatus(i)\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 10)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.u-wrap {\r\n\t\theight: calc(100vh);\r\n\t\t/* #ifdef H5 */\r\n\t\theight: calc(100vh - var(--window-top));\r\n\t\t/* #endif */\r\n\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=0e9671aa&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=0e9671aa&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1617351143219\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}