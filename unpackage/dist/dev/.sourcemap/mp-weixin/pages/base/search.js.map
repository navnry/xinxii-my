{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/base/search.vue?c2f6","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/base/search.vue?1dc4","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/base/search.vue?ffba","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/base/search.vue?3b7a","uni-app:///pages/base/search.vue","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/base/search.vue?c67a","webpack:///C:/Users/qq1977234700/Documents/HBuilderProjects/mydemo/pages/base/search.vue?dc12"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,mNAEN;AACP,KAAK;AACL;AACA,aAAa,uMAEN;AACP,KAAK;AACL;AACA,aAAa,iMAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP,KAAK;AACL;AACA,aAAa,4NAEN;AACP,KAAK;AACL;AACA,aAAa,4NAEN;AACP,KAAK;AACL;AACA,aAAa,+NAEN;AACP,KAAK;AACL;AACA,aAAa,6MAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAAgmB,CAAgB,0nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+EpnB;AACA,MADA,kBACA;AACA;AACA,qBADA,EACA;AACA,qBAFA,EAEA;AACA,eAHA,EAGA;AACA,mBAJA,EAIA;AACA,sBALA,EAKA;AACA,kBANA,EAMA;AACA,sBAPA,EAOA;AACA;AACA,iBADA;AAEA,mBAFA,EARA;;AAYA,cAZA,EAYA;AACA,sBAbA,EAaA;AACA,wBAdA,EAcA;AACA,mBAfA,CAeA;AAfA;AAiBA,GAnBA;AAoBA;AACA;AACA,aADA,mBACA,MADA,EACA,MADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,EADA,EApBA;;;AA+BA,QA/BA,kBA+BA,MA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA,GApCA;AAqCA;;AAEA;;;;;AAKA,mBAPA,6BAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SArBA;AAsBA,OAxBA,MAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SArBA;AAsBA,OAxBA,MAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aANA,MAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SArBA;AAsBA;AACA,KApFA;AAqFA,YArFA,sBAqFA;AACA;AACA;AACA;AACA,KAzFA;AA0FA,iBA1FA,2BA0FA;AACA;AACA,KA5FA;AA6FA,iBA7FA,2BA6FA;AACA;AACA;AACA;AACA,qBADA;AAEA,4BAFA;AAGA,2BAHA;;AAKA;AACA;AACA;AACA;AACA,KAzGA;;AA2GA,gBA3GA,wBA2GA,KA3GA,EA2GA;AACA;AACA;AACA;AACA,KA/GA;AAgHA,gBAhHA,wBAgHA,KAhHA,EAgHA;AACA;AACA,KAlHA;AAmHA,eAnHA,yBAmHA;AACA;AACA,gCADA,GACA,+BADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBANA;AAOA,mBARA,MAQA;AACA;AACA;;AAEA,iBAdA,CAcA;AACA;AACA,iBAjBA;AAkBA,KArIA;AAsIA,mBAtIA,6BAsIA;AACA;AACA,qCADA,GACA,mCADA;AAEA;AACA;AACA,mBAFA,MAEA;AACA;AACA;AACA,iBAPA,CAOA;AACA;AACA,iBAVA;AAWA,KAjJA;AAkJA,kBAlJA,0BAkJA,KAlJA,EAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA;AAOA;AACA;AACA;AACA;AACA;AACA,KAnKA;AAoKA,YApKA,sBAoKA;AACA;AACA,mBADA;AAEA,+BAFA;AAGA;AACA;AACA;AACA;AACA,WAHA,MAGA;AACA,SARA;;AAUA,KA/KA;AAgLA,aAhLA,uBAgLA;AACA;AACA,KAlLA;AAmLA,YAnLA,oBAmLA,KAnLA,EAmLA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AACA,KA3LA;AA4LA,gBA5LA,0BA4LA;AACA;AACA,KA9LA,EArCA,E;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAA0nC,CAAgB,omCAAG,EAAC,C;;;;;;;;;;;ACA9oC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/base/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/base/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=d0274086&scoped=true&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=d0274086&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0274086\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/base/search.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=d0274086&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uSearch: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-search/u-search\" */ \"@/uview-ui/components/u-search/u-search.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uTag: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tag/u-tag\" */ \"@/uview-ui/components/u-tag/u-tag.vue\"\n      )\n    },\n    bFriendItem: function() {\n      return import(\n        /* webpackChunkName: \"components/b-friend-item/b-friend-item\" */ \"@/components/b-friend-item/b-friend-item.vue\"\n      )\n    },\n    bArticleItem: function() {\n      return import(\n        /* webpackChunkName: \"components/b-article-item/b-article-item\" */ \"@/components/b-article-item/b-article-item.vue\"\n      )\n    },\n    bProductItem: function() {\n      return import(\n        /* webpackChunkName: \"components/b-product-item/b-product-item\" */ \"@/components/b-product-item/b-product-item.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    uEmpty: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-empty/u-empty\" */ \"@/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showHot = !_vm.showHot\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<u-navbar>\r\n\t\t\t<view class=\"slot-wrap u-flex-1 u-p-r-24\">\r\n\t\t\t\t<view class=\"search-wrap \">\r\n\t\t\t\t\t<u-search \r\n\t\t\t\t\t\theight=\"56\" \r\n\t\t\t\t\t\tv-model=\"words\" \r\n\t\t\t\t\t\tshow-action action-text=\"搜索\"\r\n\t\t\t\t\t\tplaceholder=\"请输入关键词\"\r\n\t\t\t\t\t\t@change=\"handlerInput\"\r\n\t\t\t\t\t\t@search=\"handlerSearch\" \r\n\t\t\t\t\t\t@custom=\"handlerSearch\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-navbar>\r\n\r\n\t\t<view class=\"\" v-show=\"!isResult\">\r\n\t\t\t<view class=\"hot-search u-p-24\" v-if=\"type == 'product'\">\r\n\t\t\t\t<view class=\"title u-m-b-24 u-font-30 u-font-bold u-flex u-row-between\">\r\n\t\t\t\t\t<text>热门搜索</text>\r\n\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t<u-icon :name=\"showHot ? 'eye-fill' : 'eye-off'\" color=\"#888\" @click=\"showHot = !showHot\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"u-text-center u-font-24 u-tips-color\" v-show=\"!showHot\">\r\n\t\t\t\t\t<text>热门搜索已隐藏</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"wrap u-flex u-flex-wrap\" v-show=\"showHot\">\r\n\t\t\t\t\t<view class=\"item\" v-for=\"(item,index) in hotWords\" :key=\"item.id\">\r\n\t\t\t\t\t\t<u-tag :text=\"item.value\" type=\"info\" shape=\"circle\" border-color=\"transparent\" @click=\"handlerClick(item.value)\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"history-search u-p-24\" v-if=\"historyWords.length > 0 && type == 'product'\" >\r\n\t\t\t\t<view class=\"title u-m-b-24 u-font-30 u-font-bold u-flex u-row-between\">\r\n\t\t\t\t\t<text>历史搜索</text>\r\n\t\t\t\t\t<view class=\"\" v-show=\"!closeable\">\r\n\t\t\t\t\t\t<u-icon name=\"trash-fill\" color=\"#888\" @click=\"clearHistory\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btns u-font-22 u-tips-color\" v-show=\"closeable\">\r\n\t\t\t\t\t\t<text class=\"u-border-right u-p-l-12 u-p-r-12\" @click=\"clearAll\">全部删除</text>\r\n\t\t\t\t\t\t<text class=\"u-p-l-12 u-p-r-12\" @click=\"clearDone\">完成</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"wrap u-flex u-flex-wrap\">\r\n\t\t\t\t\t<view class=\"item\" v-for=\"(item,index) in historyWords\" :key=\"item.id\">\r\n\t\t\t\t\t\t<u-tag @close=\"tagClick(item)\" :closeable=\"closeable\" :text=\"item\" type=\"info\" shape=\"circle\" border-color=\"transparent\"\r\n\t\t\t\t\t\t @click=\"handlerClick(item)\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t\t<view class=\"\" v-show=\"isResult\">\r\n\t\t\t<view class=\"title u-p-24 u-border-bottom\">\r\n\t\t\t\t<text class=\"u-font-30 u-font-bold\">搜索结果 {{totalCount}}条</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"list\" v-if=\"totalCount > 0\">\r\n\t\t\t\t<view class=\"wrap\" v-if=\"type == 'friend'\">\r\n\t\t\t\t\t<b-friend-item v-for=\"(item,index) in list\" :key=\"item.id\" :data=\"item\" ></b-friend-item>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"wrap u-p-24\" v-else-if=\"type == 'article'\">\r\n\t\t\t\t\t<b-article-item v-for=\"(item,index) in list\" :key=\"item.id\" :data=\"item\"  />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"wrap u-p-l-24 u-p-r-24\" v-else>\r\n\t\t\t\t\t<b-product-item v-for=\"(item,index) in list\" :key=\"item.id\" :data=\"item\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-loadmore class=\"u-p-t-24 u-p-b-24\" :status=\"status\" @loadmore=\"loadMore\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"u-p-48\" v-else-if=\"totalCount == 0 && noData\">\r\n\t\t\t\t<u-empty  text=\"没有搜索结果\" mode=\"search\"></u-empty>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttype: 'product', //搜索类型默认产品\r\n\t\t\t\tisResult: false, //是否是搜索结果\r\n\t\t\t\twords: '', //搜索关键词\r\n\t\t\t\tshowHot: true, //是否显示热门搜索\r\n\t\t\t\tcloseable: false, //历史搜索tag删除按钮\r\n\t\t\t\thotWords: [], //热门搜索\r\n\t\t\t\thistoryWords: [], //历史搜索\r\n\t\t\t\tpage: { //分页数据\r\n\t\t\t\t\tpageNo: 1,\r\n\t\t\t\t\tpageSize: 6\r\n\t\t\t\t},\r\n\t\t\t\tlist: [], //搜索结果\r\n\t\t\t\ttotalCount: null, //搜索结果\r\n\t\t\t\tstatus: 'loadmore', //底部加载状态\r\n\t\t\t\tnoData:false,//没有数据\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\twords:{\r\n\t\t\t\thandler(newVal,oldVal){\r\n\t\t\t\t\tnewVal = this.$u.trim(newVal, 'all')\r\n\t\t\t\t\tif(newVal == ''){\r\n\t\t\t\t\t\tthis.isResult = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn newVal\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tif (!option) return\r\n\t\t\tthis.type = option.type\r\n\t\t\tthis.getHotWords()\r\n\t\t\tthis.getHistoryWords()\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\t/**\r\n\t\t\t * 获取搜索结果 \r\n\t\t\t * @param {Object} type 搜索类型\r\n\t\t\t * @param {Object} value 关键词\r\n\t\t\t */\r\n\t\t\tgetSearchResult(type = this.type, value = this.words) {\r\n\t\t\t\tthis.isResult = true\r\n\t\t\t\tthis.status = 'loading'\r\n\t\t\t\t\r\n\t\t\t\tif (type == 'friend') { /*搜索朋友圈*/\r\n\t\t\t\t\tthis.$set(this.page, 'content', value)\r\n\t\t\t\t\tthis.$api.friendList(this.page).then(res => {\r\n\t\t\t\t\t\tthis.noData = true\r\n\t\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t\tif (res.page) {\r\n\t\t\t\t\t\t\t\tthis.totalCount = res.page.totalCount\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.page.pageNo == 1) {\r\n\t\t\t\t\t\t\t\tthis.list = res.data.list\r\n\t\t\t\t\t\t\t\tif (!res.page.hasNextPage) {\r\n\t\t\t\t\t\t\t\t\tthis.status = 'nomore'\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.list = this.list.concat(res.data.list)\r\n\t\t\t\t\t\t\t\tif (!res.page.hasNextPage) {\r\n\t\t\t\t\t\t\t\t\tthis.status = 'nomore'\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.status = 'loadmore'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (type == 'article') { /*搜索文章*/\r\n\t\t\t\t\tthis.$set(this.page, 'name', value)\r\n\t\t\t\t\tthis.$api.articleSearch(this.page).then(res => {\r\n\t\t\t\t\t\tthis.noData = true\r\n\t\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t\tif (res.page) {\r\n\t\t\t\t\t\t\t\tthis.totalCount = res.page.totalCount\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.page.pageNo == 1) {\r\n\t\t\t\t\t\t\t\tthis.list = res.data\r\n\t\t\t\t\t\t\t\tif (!res.page.hasNextPage) {\r\n\t\t\t\t\t\t\t\t\tthis.status = 'nomore';\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.list = this.list.concat(res.data)\r\n\t\t\t\t\t\t\t\tif (!res.page.hasNextPage) {\r\n\t\t\t\t\t\t\t\t\tthis.status = 'nomore';\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.status = 'loadmore';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else { /*默认搜索产品*/\r\n\t\t\t\t\tthis.$set(this.page, 'name', value)\r\n\t\t\t\t\tthis.$api.productSearch(this.page).then(res => {\r\n\t\t\t\t\t\tthis.noData = true\r\n\t\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t\tif (res.page) {\r\n\t\t\t\t\t\t\t\tthis.totalCount = res.page.totalCount\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.page.pageNo == 1) {\r\n\t\t\t\t\t\t\t\tthis.list = res.data\r\n\t\t\t\t\t\t\t\tif (!res.page.hasNextPage) {\r\n\t\t\t\t\t\t\t\t\tthis.status = 'nomore';\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.list = this.list.concat(res.data)\r\n\t\t\t\t\t\t\t\tif (!res.page.hasNextPage) {\r\n\t\t\t\t\t\t\t\t\tthis.status = 'nomore';\r\n\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.status = 'loadmore';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloadMore() {\r\n\t\t\t\tthis.page.pageNo += 1\r\n\t\t\t\tif (this.status == 'nomore') return\r\n\t\t\t\tthis.getSearchResult()\r\n\t\t\t},\r\n\t\t\tonReachBottom() {\r\n\t\t\t\tthis.loadMore()\r\n\t\t\t},\r\n\t\t\thandlerSearch() { /*发起搜索*/\r\n\t\t\t\t// this.words = this.$u.trim(this.words, 'all')\r\n\t\t\t\tif (!this.words) {\r\n\t\t\t\t\tthis.$showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '请输入搜索内容',\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.unshiftHistory(this.words)\r\n\t\t\t\tthis.getSearchResult()\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\thandlerClick(value){/*点击热门搜索或者历史记录tag*/\r\n\t\t\t\tthis.words = value\r\n\t\t\t\tthis.unshiftHistory(value)\r\n\t\t\t\tthis.handlerSearch()\r\n\t\t\t},\r\n\t\t\thandlerInput(value) { \r\n\t\t\t\tthis.words = this.$u.trim(value, 'all')\r\n\t\t\t},\r\n\t\t\tasync getHotWords() { /*获取热门搜索*/\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet hotWordsStorge = this.$storage.get('hotWords')\r\n\t\t\t\t\tif (!hotWordsStorge) {\r\n\t\t\t\t\t\tthis.$api.hotSearchWords().then(res => {\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif (res.success) {\r\n\t\t\t\t\t\t\t\tthis.hotWords = res.data\r\n\t\t\t\t\t\t\t\tthis.$storage.set('hotWords', res.data)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.hotWords = hotWordsStorge\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getHistoryWords() { /*获取搜索历史*/\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet historyWordsStorage = this.$storage.get('historyWords')\r\n\t\t\t\t\tif (!historyWordsStorage) {\r\n\t\t\t\t\t\tthis.historyWords = []\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.historyWords = historyWordsStorage\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.log(error)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tunshiftHistory(value) { /*加入搜索历史*/\r\n\t\t\t\tif (value == '') return\r\n\t\t\t\tif (this.type !== 'product') return\r\n\t\t\t\tlet flag = true\r\n\t\t\t\tif (this.historyWords) {\r\n\t\t\t\t\tthis.historyWords.forEach((item, index) => {\r\n\t\t\t\t\t\tif (item == value) {\r\n\t\t\t\t\t\t\tflag = false\r\n\t\t\t\t\t\t\tthis.historyWords.splice(index, 1)\r\n\t\t\t\t\t\t\tthis.historyWords.unshift(item)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif (flag) {\r\n\t\t\t\t\tthis.historyWords.unshift(value)\r\n\t\t\t\t}\r\n\t\t\t\tthis.$storage.set('historyWords', this.historyWords)\r\n\t\t\t},\r\n\t\t\tclearAll() {\r\n\t\t\t\tthis.$showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '确认清空全部搜索历史吗？',\r\n\t\t\t\t\tsuccess: (res => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthis.$storage.remove('historyWords')\r\n\t\t\t\t\t\t\tthis.historyWords = []\r\n\t\t\t\t\t\t} else {}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclearDone() {\r\n\t\t\t\tthis.closeable = false\r\n\t\t\t},\r\n\t\t\ttagClick(value) {\r\n\t\t\t\tthis.historyWords.forEach((item, index) => {\r\n\t\t\t\t\tif (item == value) {\r\n\t\t\t\t\t\tthis.historyWords.splice(index, 1)\r\n\t\t\t\t\t\tthis.clearDone()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$storage.set('historyWords', this.historyWords)\r\n\t\t\t},\r\n\t\t\tclearHistory() { /*清空搜索历史*/\r\n\t\t\t\tthis.closeable = true\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\tpage {\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.history-search,\r\n\t.hot-search {\r\n\t\t.wrap {\r\n\t\t\tmargin-top: -24rpx;\r\n\t\t\tmargin-right: -24rpx;\r\n\r\n\t\t\t.item {\r\n\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\tmargin-top: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.btns {\r\n\t\t\ttext {\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tborder-color: #909399;\r\n\t\t\t\t\ttransform: none;\r\n\t\t\t\t\twidth: 1px;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tleft: auto;\r\n\t\t\t\t\tright: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&id=d0274086&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&id=d0274086&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1617351143296\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}